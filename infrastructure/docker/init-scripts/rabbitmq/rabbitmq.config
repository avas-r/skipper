# RabbitMQ configuration for Skipper
# This file is used to configure RabbitMQ in the Docker Compose environment

# Enable management plugin and prometheus metrics
management.load_definitions = /etc/rabbitmq/definitions.json
prometheus.return_per_object_metrics = true

# Configure default vhost settings
default_vhost = /
default_user = guest
default_pass = guest
default_permissions.configure = .*
default_permissions.read = .*
default_permissions.write = .*

# Define user permissions
default_user_tags.administrator = true

# Set resource limits to prevent overloading
vm_memory_high_watermark.absolute = 512MiB
disk_free_limit.absolute = 1GB

# Configure connection and channel limits
channel_max = 2000
connection_max = 1000

# Set message timeout and queue limits
consumer_timeout = 1800000